---
layout: post
title:  OpenCV
date:   2020-05-25 10:30:00
tags: MachineLearning
---

# 영상처리란?
1. 영상 - 밝기와 색상이 다른 일정한 수의 화소들로 구성  
   영상처리 - 입력된 영상을 어떤 목적을 위해 처리하는 기술  
2. 영상처리  
   2-1. 저수준 : 영상처리 결과가 영상인 경우  
   2-2. 고수준 : 영상처리 결과가 영상의 특성인 경우(컴퓨터 비전)  
3. 아날로그 영상 -> 디지털 영상  
   3-1. 샘플링(sampling) : 무한한 연속된 값을 일정한 해상도에 따라 유한개의 화소수만큼 입력값을 취하는 과정(동등한 공간의 크기로 데이터를 획득)  
   3-2. 양자화(quantization) : 제한된 비트수로 화소값을 나타내려 밝기 값을 정수화시키는 과정(수치값을 할당) -> 비트 수가 적어질 수록, 단일 색이 사용됨(예를 들어, 1비트면 0, 1로 표현되고, 2비트면, 00, 01, 10, 11, ...)  
4. 양자화의 영향을 줄여주기 위한 방법  
   4-1. Dithering(제한된 색을 이용하여 음영이나 색을 나타내는 것이며, 여러 컬러의 색을 최대한 맞추는 과정)  
   - Random dither : 난수(noise)를 더해서, 빈 부분을 채워주는 것  
   - Ordered dither : 미리 정의된 값들(행렬)을 더해서, 빈 부분을 채워주는 것. 이 알고리즘은 표시된 픽셀에 임계값 맵(지수 행렬 또는 바이어 매트릭스)을 적용하여 색상 수를 줄이고 축소된 팔레트의 사용 가능한 색상 항목에서 원래 색상의 거리에 따라 일부 픽셀의 색상이 변경됨.  
   - Error diffusion dither : 오류 확산은 양자화 잔류물이 아직 처리되지 않은 인접 픽셀로 분포되는 반 자동화의 한 유형. 멀티 레벨 이미지를 바이너리 이미지로 변환하는 것이 주된 용도.  
   4-2. Classical Halftoning : 하프톤은 잡지에 인쇄된 사진을 크게 확대해서 볼 때처럼 이미지를 CMYK 4채널의 망점으로 만들어주는 필터.  

5. 디지털 영상의 표현과 영상처리  
   - M x N 크기 디지털 영상  
   - 표본화 수에 따라 M, N 결정  
   - k 비트로 양자화 -> 2^k 개 레벨  

6. 영상처리 응용 분야  
   6-1. 의료 분야 - CT, MRI, PET  
   6-2. 방송통신 분야 - 가상광고  
   6-3. 공간 자동화 분야 - 제품 품질 모니터링 및 불량 제거  
   6-4. 출판 및 사진 분야  
   6-5. 애니메이션 및 게임 분야  
   6-6. 기상 및 지질 탐사 분야  
   6-7. 로봇 시각 분야  
  
7. 세그멘테이션 방법  
   7-1. Intensity / Gradient  
   7-2. Geometric Deformable Model  
   7-3. Statistical Model(여러 명의 평균을 냄)  
   7-4. AI, Deep Learning  
   
   => robustness(강건성)의 증가 - 더욱 견고해짐   
   => gradient(밝기의 차이)

8. OpenCV(Open Source Computer Vision Library)  
   - 영상처리와 컴퓨터 비전 관련 오픈 소스  
   - C, C++, Python, Matlab 인터페이스 제공  
   - Windows, Linux, Android, MacOS  
   - CUDA와 OpenCL 인터페이스 개발  
     * CUDA란? 그래픽 처리 장치(GPU)에서 수행하는 (병렬 처리)알고리즘을 C프로그래밍 언어를 비롯한 산업 표준 언어를 사용하여 작성할 수 있도록 하는 GPGPU 기술.  
     * CUDA는 왜 사용할까?  
       + CPU 를 이용한 연산은 대부분 Single-Core를 사용하고 OpenMP(MultiProcessing) 등을 이용하여 Multi-Core 를 이용한 연산을 할 수 있다. 이에 반해 GPU 를 이용한 연산 Many-Core 를 이용하고 VRAM (Video RAM) 에 있는 데이터를 연산한다.  
       + Core 당 속도는 당연히 CPU 가 GPU 보다 더 빠르다.  
       + 4x4 행렬 모든 성분에 1씩 더해주는 연산을 한다. 직렬 연산의 경우 이 연산을 16번에 걸쳐 하지만 병렬 연산의 경우 16번의 연산을 한 번에 걸쳐 한다. 앞서 말한 CPU / GPU 의 코어 수, 속도로 살펴보자. 코어 당 속도가 CPU가 GPU의 2배일 때 CPU로 연산을 하면 8 의 시간이 걸리던 것이 GPU를 이용하면 1의 시간이 걸린다(상대적인 속도).  
       참고사이트[https://kaen2891.tistory.com/20]  

9. OpenCV 실습  
